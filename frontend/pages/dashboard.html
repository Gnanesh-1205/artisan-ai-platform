<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Artisan Dashboard - ArtisanAI</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="../css/style.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Tailwind Configuration -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'sans': ['Inter', 'sans-serif'],
                        'serif': ['Playfair Display', 'serif'],
                    },
                    colors: {
                        'brand': {
                            50: '#fef7f0', 100: '#fdeee0', 200: '#f9d5b8', 300: '#f5bc8f',
                            400: '#f0a366', 500: '#eb8a3d', 600: '#d67424', 700: '#b8621e',
                            800: '#9a501a', 900: '#7c3e16'
                        },
                        'craft': {
                            50: '#f8f6f4', 100: '#f1ede9', 200: '#e3d7cc', 300: '#d4c0af',
                            400: '#c6a992', 500: '#b89275', 600: '#a37d63', 700: '#8e6851',
                            800: '#79533f', 900: '#643e2d'
                        }
                    }
                }
            }
        }
    </script>
</head>
<body class="font-sans bg-gray-50">
    <!-- Navigation -->
    <nav class="bg-white shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex-shrink-0 flex items-center">
                    <div class="flex items-center space-x-2">
                        <div class="w-8 h-8 bg-gradient-to-r from-brand-500 to-craft-500 rounded-lg flex items-center justify-center">
                            <i class="fas fa-palette text-white text-sm"></i>
                        </div>
                        <span class="text-xl font-bold text-gray-900">ArtisanAI</span>
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <a href="../index.html" class="text-gray-700 hover:text-brand-600 px-3 py-2 rounded-md text-sm font-medium">
                        <i class="fas fa-home mr-1"></i>Home
                    </a>
                    <div class="relative">
                        <button class="flex items-center space-x-2 text-gray-700 hover:text-brand-600">
                            <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=32" alt="Profile" class="w-8 h-8 rounded-full">
                            <span class="text-sm font-medium">Artisan Dashboard</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Header -->
        <div class="mb-8">
            <h1 class="text-3xl font-bold text-gray-900 mb-2">Welcome back, Master Artisan!</h1>
            <p class="text-gray-600">Manage your products and track your craft business performance</p>
        </div>

        <!-- Stats Cards -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
            <div class="stat-card revenue">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-gray-600 mb-1">Total Revenue</p>
                        <p class="text-2xl font-bold text-gray-900">₹45,230</p>
                        <p class="text-sm text-green-600">+12% from last month</p>
                    </div>
                    <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
                        <i class="fas fa-rupee-sign text-green-600 text-xl"></i>
                    </div>
                </div>
            </div>
            
            <div class="stat-card products">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-gray-600 mb-1">Products Listed</p>
                        <p class="text-2xl font-bold text-gray-900">23</p>
                        <p class="text-sm text-blue-600">3 pending review</p>
                    </div>
                    <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center">
                        <i class="fas fa-box text-blue-600 text-xl"></i>
                    </div>
                </div>
            </div>
            
            <div class="stat-card views">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-gray-600 mb-1">Total Views</p>
                        <p class="text-2xl font-bold text-gray-900">1,247</p>
                        <p class="text-sm text-purple-600">+8% this week</p>
                    </div>
                    <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center">
                        <i class="fas fa-eye text-purple-600 text-xl"></i>
                    </div>
                </div>
            </div>
            
            <div class="stat-card rating">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-sm font-medium text-gray-600 mb-1">Average Rating</p>
                        <p class="text-2xl font-bold text-gray-900">4.8</p>
                        <div class="flex items-center">
                            <div class="stars text-sm">
                                <i class="fas fa-star star filled"></i>
                                <i class="fas fa-star star filled"></i>
                                <i class="fas fa-star star filled"></i>
                                <i class="fas fa-star star filled"></i>
                                <i class="fas fa-star star filled"></i>
                            </div>
                            <span class="text-sm text-gray-500 ml-1">(89 reviews)</span>
                        </div>
                    </div>
                    <div class="w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center">
                        <i class="fas fa-star text-yellow-600 text-xl"></i>
                    </div>
                </div>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="flex flex-wrap gap-4 mb-8">
            <button onclick="showProductUploadModal()" class="btn-primary">
                <i class="fas fa-plus mr-2"></i>Add New Product
            </button>
            <button class="btn-secondary">
                <i class="fas fa-chart-line mr-2"></i>View Analytics
            </button>
            <button class="btn-secondary">
                <i class="fas fa-user-edit mr-2"></i>Edit Profile
            </button>
            <button class="btn-secondary">
                <i class="fas fa-cog mr-2"></i>Settings
            </button>
        </div>

        <!-- Recent Products -->
        <div class="bg-white rounded-xl shadow-lg mb-8">
            <div class="p-6 border-b border-gray-200">
                <div class="flex items-center justify-between">
                    <h2 class="text-xl font-semibold text-gray-900">Recent Products</h2>
                    <a href="#" class="text-brand-600 hover:text-brand-700 text-sm font-medium">View All</a>
                </div>
            </div>
            <div class="p-6">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="recent-products">
                    <!-- Products will be loaded here -->
                    <div class="border rounded-lg p-4">
                        <img src="https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=300" 
                             alt="Handwoven Basket" class="w-full h-32 object-cover rounded-lg mb-3">
                        <h3 class="font-semibold text-gray-900 mb-1">Handwoven Basket</h3>
                        <p class="text-sm text-gray-600 mb-2">Traditional bamboo craft</p>
                        <div class="flex items-center justify-between">
                            <span class="text-lg font-bold text-brand-600">₹1,250</span>
                            <span class="badge badge-success">Active</span>
                        </div>
                        <div class="mt-3 text-xs text-gray-500">
                            <span class="mr-3"><i class="fas fa-eye mr-1"></i>45 views</span>
                            <span><i class="fas fa-heart mr-1"></i>12 likes</span>
                        </div>
                    </div>
                    
                    <div class="border rounded-lg p-4">
                        <img src="https://images.unsplash.com/photo-1582582621959-48d27397dc69?w=300" 
                             alt="Ceramic Vase" class="w-full h-32 object-cover rounded-lg mb-3">
                        <h3 class="font-semibold text-gray-900 mb-1">Ceramic Vase</h3>
                        <p class="text-sm text-gray-600 mb-2">Hand-thrown pottery</p>
                        <div class="flex items-center justify-between">
                            <span class="text-lg font-bold text-brand-600">₹2,100</span>
                            <span class="badge badge-warning">Pending</span>
                        </div>
                        <div class="mt-3 text-xs text-gray-500">
                            <span class="mr-3"><i class="fas fa-eye mr-1"></i>28 views</span>
                            <span><i class="fas fa-heart mr-1"></i>8 likes</span>
                        </div>
                    </div>
                    
                    <div class="border rounded-lg p-4">
                        <img src="https://images.unsplash.com/photo-1515562141207-7a88fb7ce338?w=300" 
                             alt="Brass Lamp" class="w-full h-32 object-cover rounded-lg mb-3">
                        <h3 class="font-semibold text-gray-900 mb-1">Brass Oil Lamp</h3>
                        <p class="text-sm text-gray-600 mb-2">Traditional metalwork</p>
                        <div class="flex items-center justify-between">
                            <span class="text-lg font-bold text-brand-600">₹850</span>
                            <span class="badge badge-success">Active</span>
                        </div>
                        <div class="mt-3 text-xs text-gray-500">
                            <span class="mr-3"><i class="fas fa-eye mr-1"></i>67 views</span>
                            <span><i class="fas fa-heart mr-1"></i>23 likes</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Performance Chart -->
        <div class="grid lg:grid-cols-2 gap-8">
            <div class="chart-container">
                <h2 class="text-xl font-semibold text-gray-900 mb-4">Sales Overview</h2>
                <div class="h-64 flex items-center justify-center bg-gray-50 rounded-lg">
                    <div class="text-center">
                        <i class="fas fa-chart-line text-4xl text-gray-400 mb-4"></i>
                        <p class="text-gray-600">Sales chart will be displayed here</p>
                        <p class="text-sm text-gray-500">Integration with chart library coming soon</p>
                    </div>
                </div>
            </div>
            
            <div class="chart-container">
                <h2 class="text-xl font-semibold text-gray-900 mb-4">Recent Activity</h2>
                <div class="space-y-4">
                    <div class="flex items-center space-x-3">
                        <div class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center">
                            <i class="fas fa-shopping-cart text-green-600 text-sm"></i>
                        </div>
                        <div class="flex-1">
                            <p class="text-sm font-medium text-gray-900">New order for Handwoven Basket</p>
                            <p class="text-xs text-gray-500">2 hours ago</p>
                        </div>
                    </div>
                    
                    <div class="flex items-center space-x-3">
                        <div class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center">
                            <i class="fas fa-eye text-blue-600 text-sm"></i>
                        </div>
                        <div class="flex-1">
                            <p class="text-sm font-medium text-gray-900">Your Ceramic Vase received 15 new views</p>
                            <p class="text-xs text-gray-500">4 hours ago</p>
                        </div>
                    </div>
                    
                    <div class="flex items-center space-x-3">
                        <div class="w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center">
                            <i class="fas fa-star text-yellow-600 text-sm"></i>
                        </div>
                        <div class="flex-1">
                            <p class="text-sm font-medium text-gray-900">New 5-star review on Brass Lamp</p>
                            <p class="text-xs text-gray-500">1 day ago</p>
                        </div>
                    </div>
                    
                    <div class="flex items-center space-x-3">
                        <div class="w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center">
                            <i class="fas fa-user-plus text-purple-600 text-sm"></i>
                        </div>
                        <div class="flex-1">
                            <p class="text-sm font-medium text-gray-900">3 new followers added</p>
                            <p class="text-xs text-gray-500">2 days ago</p>
                        </div>
                    </div>
                    
                    <div class="flex items-center space-x-3">
                        <div class="w-8 h-8 bg-brand-100 rounded-full flex items-center justify-center">
                            <i class="fas fa-plus text-brand-600 text-sm"></i>
                        </div>
                        <div class="flex-1">
                            <p class="text-sm font-medium text-gray-900">Product "Wooden Sculpture" was approved</p>
                            <p class="text-xs text-gray-500">3 days ago</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Floating Action Button -->
    <div class="fab" onclick="showProductUploadModal()">
        <i class="fas fa-plus"></i>
    </div>

    <!-- Scripts -->
    <script src="../js/api.js"></script>
    <script src="../js/auth.js"></script>
    <script src="../js/marketplace.js"></script>
    <script src="../js/main.js"></script>
    
    <script>
        // Initialize dashboard
        document.addEventListener('DOMContentLoaded', function() {
            // Check if user is logged in and is an artisan
            if (!isLoggedIn() || !isArtisan()) {
                showNotification('Please login as an artisan to access dashboard', 'warning');
                setTimeout(() => {
                    window.location.href = '../index.html';
                }, 2000);
                return;
            }
            
            // Load dashboard data
            loadDashboardData();
        });
        
        async function loadDashboardData() {
            try {
                const result = await api.getDashboard();
                if (result.success) {
                    updateDashboardStats(result.data);
                }
            } catch (error) {
                console.error('Dashboard load error:', error);
                // Use mock data for demo
                showNotification('Dashboard loaded with demo data', 'info');
            }
        }
        
        function updateDashboardStats(data) {
            // Update stats cards with real data
            // This would be implemented with actual API data
            console.log('Dashboard data:', data);
        }
    </script>
</body>
</html>